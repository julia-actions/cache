---
name: Reusable Workflow
on:
  workflow_call:
    inputs: {}
    outputs:
      github-json: ${{ jobs.duplicate.outputs.github-json }}

jobs:
  duplicate:
    runs-on: ubuntu-latest
    outputs:
      github-json: ${{ steps.export.outputs.github-json }}
    steps:
      - run: jq <"$GITHUB_EVENT_PATH"
      - uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2
      - uses: julia-actions/setup-julia@v2
        with:
          version: "1"
      - name: Save cache
        uses: ./
      - id: export
        run: |
          {
             echo "github-json<<EOF"
             echo "${{ toJSON(github) }}"
             echo "EOF"
          } | tee -a "$GITHUB_OUTPUT"
